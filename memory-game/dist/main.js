!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}n(2),n(3);var i=n(4),o=r(i),a=function(){return React.createElement(o["default"],null)},u=document.getElementById("main");ReactDOM.render(React.createElement(a,null),u)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=(r(i),0);t["default"]=Reflux.createStore({onUpdate:function(){this.trigger(++o)}})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=Reflux.createActions(["generateDeck","setGameSettings","handleCardClick"])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){return{title:{margin:30,fontSize:30}}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=(r(o),n(5)),u=r(a),c=n(6),s=r(c),l=n(7),d=r(l),f=i();t["default"]=React.createClass({mixins:[Reflux.listenTo(u["default"],"onGame")],propTypes:{size:React.PropTypes.number},onGame:function(e){this.setState({size:e.size})},componentWillMount:function(){var e=u["default"].getGameSettings();this.setState({size:e.size})},render:function(){return React.createElement("div",null,React.createElement("p",{style:f.title},"Still under construction"),React.createElement(s["default"],null),React.createElement(d["default"],{size:this.state.size}))}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=r(i),a=4;t["default"]=Reflux.createStore({init:function(){this.listenTo(o["default"].setGameSettings,this.onSetGameSettings)},onSetGameSettings:function(e){a=e.size,this.triggerGameSettings()},getGameSettings:function(){return{size:a}},triggerGameSettings:function(){var e=this.getGameSettings();this.trigger(e)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){return{panel:{"float":"right",width:"50%",paddingTop:20}}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=r(o),u=i();t["default"]=React.createClass({componentDidMount:function(){this.unsubscribe=a["default"].listen(this.onScoreChange)},componentWillUnmount:function(){this.unsubscribe()},onScoreChange:function(e){this.setState({score:e})},render:function(){return React.createElement("div",{style:u.panel},"Score: ",this.state?this.state.score:0)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function o(){return{row:{display:"block"},deck:{margin:50,boxShadow:"0 0 10px 1px",display:"inline-block"}}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),u=r(a),c=n(8),s=r(c),l=n(9),d=r(l),f=o(),p=function(e){return R.flip(R.map)(R.range(0,e))};t["default"]=React.createClass({mixins:[Reflux.listenTo(s["default"],"onDeck")],propTypes:{size:React.PropTypes.number},componentDidMount:function(){var e=Math.pow(this.props.size,2);u["default"].generateDeck(e)},onDeck:function(e){this.setState({isVisible:!0,deck:e.deck})},render:function(){var e=this;if(!this.state||!this.state.isVisible)return null;var t=function(){var t=e.props.size,n=p(t);return{v:React.createElement("div",{style:f.deck},n(function(r){return React.createElement("div",{key:r,style:f.row},n(function(n){return React.createElement(d["default"],{card:e.state.deck[r*t+n],key:n})}))}))}}();return"object"===("undefined"==typeof t?"undefined":i(t))?t.v:void 0}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=r(i),a=void 0,u=function(e){for(var t,n,r=e.length,i=R.map(R.identity,e);r>0;)n=Math.floor(Math.random()*r),r--,t=i[r],i[r]=i[n],i[n]=t;return i},c=function(e){return e[Math.floor(Math.random()*e.length)]},s=function(e){var t=e%2===0,n=R.range(1,Math.floor(e/2)+1),r=n.concat(n).concat(t?[]:[c(n)]);return u(r)},l=R.propEq("isFaceDown",!0),d=R.map(function(e){return e.isFaceDown=!0}),f=R.filter(R.compose(R.not,l));t["default"]=Reflux.createStore({init:function(){this.listenTo(o["default"].generateDeck,this.onGenerateDeck),this.listenTo(o["default"].handleCardClick,this.onHandleCardClick)},generateDeck:function(e){for(var t=[],n=s(e),r=0;e>r;r++)t.push({id:r,value:n[r],isFaceDown:!0});return t},onHandleCardClick:function(e){var t=this,n=R.find(R.propEq("id",e),a);if(n.isFaceDown!==!1){var r=f(a);(0===r.length||1===r.length)&&(n.isFaceDown=!n.isFaceDown,1===r.length&&setTimeout(function(){d(a),t.onTrigger()},1e3),this.onTrigger())}},onGenerateDeck:function(e){a=this.generateDeck(e),this.onTrigger()},onTrigger:function(){this.trigger({deck:a})}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){return{card:{border:"solid 1px #333",cursor:"pointer",position:"relative",display:"inline-block",height:100,width:100},cardFaceDown:{background:"#9B9"},number:{position:"absolute",top:20,left:40,fontSize:20}}}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),u=r(a),c=i();t["default"]=React.createClass({propTypes:{card:React.PropTypes.shape({id:React.PropTypes.number,isFaceDown:React.PropTypes.bool})},render:function(){var e=this,t=this.props.card.isFaceDown;return React.createElement("div",{style:t?o({},c.card,c.cardFaceDown):c.card,onClick:function(){return u["default"].handleCardClick(e.props.card.id)}},t===!1?React.createElement("p",{style:c.number},this.props.card.value):null)}})}]);
//# sourceMappingURL=main.js.map