!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=n(2),i=r(o);n(3),n(4);var a=n(5),c=r(a);i["default"].trackAnalytics();var s=function(){return React.createElement(c["default"],null)},u=document.getElementById("main");ReactDOM.render(React.createElement(s,null),u)},function(e,t,n){var r,o;!function(i){var a={};a.goToIndex=function(){location.replace("/foundry")},a.trackAnalytics=function(){!function(e,t,n,r,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=r,a.parentNode.insertBefore(i,a)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-70138305-1","auto"),ga("send","pageview")},r=a,o="function"==typeof r?r.call(t,n,t,e):r,!(void 0!==o&&(e.exports=o))}(window)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),i=r(o),a=0;t["default"]=Reflux.createStore({init:function(){this.listenTo(i["default"].increaseScore,this.onIncreaseScore),this.listenTo(i["default"].decreaseScore,this.onDecreaseScore)},onIncreaseScore:function(e){this.modifyScoreAndTrigger(e)},onDecreaseScore:function(e){this.modifyScoreAndTrigger(-e)},modifyScoreAndTrigger:function(e){a+=e,this.trigger({score:a})}})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=Reflux.createActions(["generateDeck","setGameSettings","handleUnsolvedCardClick","increaseScore","decreaseScore"])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){return{title:{margin:30,fontSize:30}}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),a=(r(i),n(6)),c=r(a),s=n(7),u=r(s),l=n(8),d=r(l),f=o();t["default"]=React.createClass({mixins:[Reflux.listenTo(c["default"],"onGame")],propTypes:{size:React.PropTypes.number},onGame:function(e){this.setState({size:e.size})},componentWillMount:function(){var e=c["default"].getGameSettings();this.setState({size:e.size})},render:function(){return React.createElement("div",null,React.createElement("p",{style:f.title},"Still under early construction"),React.createElement(u["default"],null),React.createElement(d["default"],{size:this.state.size}))}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),i=r(o),a=4;t["default"]=Reflux.createStore({init:function(){this.listenTo(i["default"].setGameSettings,this.onSetGameSettings)},onSetGameSettings:function(e){a=e.size,this.triggerGameSettings()},getGameSettings:function(){return{size:a}},triggerGameSettings:function(){var e=this.getGameSettings();this.trigger(e)}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){return{panel:{"float":"right",width:"50%",paddingTop:20}}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=r(i),c=n(3),s=r(c),u=o();t["default"]=React.createClass({mixins:[Reflux.listenTo(s["default"],"onScoreChange")],onScoreChange:function(e){var t=e.score;this.setState({score:t})},onIndexClick:function(e){e.preventDefault(),a["default"].goToIndex()},render:function(){return React.createElement("div",{style:u.panel},React.createElement("p",null,"Score: ",this.state?this.state.score:0),React.createElement("p",null,React.createElement("a",{href:"#",onClick:this.onIndexClick},"index")))}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function i(){return{row:{display:"block"},deck:{margin:50,boxShadow:"0 0 10px 1px",display:"inline-block"}}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),c=r(a),s=n(9),u=r(s),l=n(10),d=r(l),f=i(),p=function(e){return R.flip(R.map)(R.range(0,e))};t["default"]=React.createClass({mixins:[Reflux.listenTo(u["default"],"onDeck")],propTypes:{size:React.PropTypes.number},componentDidMount:function(){var e=Math.pow(this.props.size,2);c["default"].generateDeck(e)},onDeck:function(e){this.setState({isVisible:!0,deck:e.deck})},render:function(){var e=this;if(!this.state||!this.state.isVisible)return null;var t=function(){var t=e.props.size,n=p(t);return{v:React.createElement("div",{style:f.deck},n(function(r){return React.createElement("div",{key:r,style:f.row},n(function(n){return React.createElement(d["default"],{card:e.state.deck[r*t+n],key:n})}))}))}}();return"object"===("undefined"==typeof t?"undefined":o(t))?t.v:void 0}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),i=r(o),a=void 0,c=function(e){for(var t,n,r=e.length,o=R.map(R.identity,e);r>0;)n=Math.floor(Math.random()*r),r--,t=o[r],o[r]=o[n],o[n]=t;return o},s=function(e){return e[Math.floor(Math.random()*e.length)]},u=function(e){var t=e%2===0,n=R.range(1,Math.floor(e/2)+1),r=n.concat(n).concat(t?[]:[s(n)]);return c(r)},l=R.propEq("isFaceDown",!0),d=R.map(function(e){return e.isFaceDown=!0}),f=R.filter(R.compose(R.not,l)),p=function(e){for(var t=[],n=u(e),r=0;e>r;r++)t.push({id:r,value:n[r],isFaceDown:!0,isSolved:!1});return t};t["default"]=Reflux.createStore({init:function(){this.listenTo(i["default"].generateDeck,this.onGenerateDeck),this.listenTo(i["default"].handleUnsolvedCardClick,this.onHandleCardClick)},onHandleCardClick:function(e){var t=this,n=R.find(R.propEq("id",e),a);if(n.isFaceDown!==!1){var r=f(a);(0===r.length||1===r.length)&&(n.isFaceDown=!n.isFaceDown,1===r.length&&setTimeout(function(){r[0].value===n.value?(i["default"].increaseScore(3),r[0].isSolved=!0,n.isSolved=!0):i["default"].decreaseScore(1),d(a),t.onTrigger()},1e3),this.onTrigger())}},onGenerateDeck:function(e){a=p(e),this.onTrigger()},onTrigger:function(){this.trigger({deck:a})}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){return{card:{border:"solid 1px #333",cursor:"pointer",position:"relative",display:"inline-block",height:100,width:100},cardFaceDown:{background:"#ACC8F3"},cardSolved:{background:"#9B9",cursor:"default"},number:{position:"absolute",top:20,left:40,fontSize:20}}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),c=r(a),s=o();t["default"]=React.createClass({propTypes:{card:React.PropTypes.shape({id:React.PropTypes.number,isFaceDown:React.PropTypes.bool})},onCardClick:function(){this.props.card.isSolved!==!0&&c["default"].handleUnsolvedCardClick(this.props.card.id)},render:function(){var e=this.props.card.isFaceDown,t=this.props.card.isSolved;return React.createElement("div",{style:i({},s.card,e?s.cardFaceDown:{},t?s.cardSolved:{}),onClick:this.onCardClick},e===!1?React.createElement("p",{style:s.number},this.props.card.value):null)}})}]);
//# sourceMappingURL=main.js.map